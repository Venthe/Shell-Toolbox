---
# TODO: Add mvn
# TODO: Add docker
# TODO: Add minikube
# TODO: Add tilt
# TODO: Add vscode
# TODO: Add ssh server
# TODO: Add intellij idea
# TODO: Add java version manager
- name: Setup brew
  import_tasks: setup-brew.yml
- name: Setup Kubernetes
  import_tasks: setup-kubernetes.yml
- become: true
  ansible.builtin.apt:
    name: "{{item}}"
    state: present
    update_cache: yes
  with_items:
    - dos2unix
    - mc
    - jq
    - screenfetch
    - ripgrep
    - fd-find
    - autojump
    - curl
    - neofetch
- name: Install from GitHub
  ansible.builtin.get_url:
    url: "https://github.com/{{ item.repository }}/releases/download/{{ item.binary }}"
    dest: "{{ item.dest }}"
    mode: "u=rwx,g=rwx,o=r"
  with_items:
    - repository: mikefarah/yq
      binary: "{{ vars.versions.yq }}/yq_linux_amd64"
      dest: "{{ ansible_facts.user_dir }}/.local/bin/yq"
    - repository: akavel/up
      binary: "{{ vars.versions.up }}/up"
      dest: "{{ ansible_facts.user_dir }}/.local/bin/up"
- name: Setup NVM-sh
  import_tasks: setup-nvm-sh.yml
- name: Setup Helm
  import_tasks: setup-helm.yml
- community.general.homebrew:
    name: "{{item}}"
    state: present
  with_items:
    - k9s
    - gcc
    - jesseduffield/lazygit/lazygit
    - jesseduffield/lazydocker/lazydocker
    - ctop
- ansible.builtin.pip:
    name: "{{item}}"
  with_items:
    - icdiff
    - howdoi
    - tldr